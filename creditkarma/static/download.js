!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.download=t()}(this,function(){return function e(t,n,o){function a(e){var t=e.split(/[:;,]/);e=t[1];var t=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),n=t.length,o=0,a=new Uint8Array(n);for(o;n>o;++o)a[o]=t.charCodeAt(o);return new s([a],{type:e})}function r(e,t){if("download"in l)return l.href=e,l.setAttribute("download",p),l.className="download-js-link",l.innerHTML="downloading...",l.style.display="none",document.body.appendChild(l),setTimeout(function(){l.click(),document.body.removeChild(l),!0===t&&setTimeout(function(){i.URL.revokeObjectURL(l.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,"application/octet-stream")),!window.open(e)&&confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,"application/octet-stream")),n.src=e,setTimeout(function(){document.body.removeChild(n)},333)}var i=window,d=o||"application/octet-stream",c=!n&&!o&&t,l=document.createElement("a");o=function(e){return String(e)};var s=i.Blob||i.MozBlob||i.WebKitBlob||o,p=n||"download",s=s.call?s.bind(i):Blob;if("true"===String(this)&&(t=[t,d],d=t[0],t=t[1]),c&&2048>c.length&&(p=c.split("/").pop().split("?")[0],l.href=c,-1!==l.href.indexOf(c))){var u=new XMLHttpRequest;return u.open("GET",c,!0),u.responseType="blob",u.onload=function(t){e(t.target.response,p,"application/octet-stream")},setTimeout(function(){u.send()},0),u}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(t)){if(!(2096103.424<t.length&&s!==o))return navigator.msSaveBlob?navigator.msSaveBlob(a(t),p):r(t);t=a(t),d=t.type||"application/octet-stream"}else if(/([\x80-\xff])/.test(t)){n=0;var c=new Uint8Array(t.length),f=c.length;for(n;f>n;++n)c[n]=t.charCodeAt(n);t=new s([c],{type:d})}if(t=t instanceof s?t:new s([t],{type:d}),navigator.msSaveBlob)return navigator.msSaveBlob(t,p);if(i.URL)r(i.URL.createObjectURL(t),!0);else{if("string"==typeof t||t.constructor===o)try{return r("data:"+d+";base64,"+i.btoa(t))}catch(m){return r("data:"+d+","+encodeURIComponent(t))}d=new FileReader,d.onload=function(){r(this.result)},d.readAsDataURL(t)}return!0}});